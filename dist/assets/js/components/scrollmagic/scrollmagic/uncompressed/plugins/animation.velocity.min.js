!function(e,o){"function"==typeof define&&define.amd?define(["ScrollMagic","velocity"],o):"object"==typeof exports?o(require("scrollmagic"),require("velocity")):o(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.Velocity||e.jQuery&&e.jQuery.Velocity)}(this,function(e,y){"use strict";var p="animation.velocity",o=window.console||{},i=Function.prototype.bind.call(o.error||o.log||function(){},o);e||i("("+p+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),y||i("("+p+") -> ERROR: Velocity could not be found. Please make sure it's loaded before ScrollMagic or use an asynchronous loader like requirejs.");var v=0;e.Scene.extend(function(){function n(){a._log&&(Array.prototype.splice.call(arguments,1,0,"("+p+")","->"),a._log.apply(this,arguments))}var r,u,c,l,a=this,s=e._util,o=0;a.on("progress.plugin_velocity",function(){f()}),a.on("destroy.plugin_velocity",function(e){a.off("*.plugin_velocity"),a.removeVelocity(e.reset)});var t=function(e,o,i){s.type.Array(e)?e.forEach(function(e){t(e,o,i)}):(y.Utilities.data(e,l)||y.Utilities.data(e,l,{reverseProps:s.css(e,Object.keys(u))}),y(e,o,i),void 0!==i.queue&&y.Utilities.dequeue(e,i.queue))},d=function(e,o){if(s.type.Array(e))e.forEach(function(e){d(e,o)});else{var i=y.Utilities.data(e,l);i&&i.reverseProps&&(y(e,i.reverseProps,o),void 0!==o.queue&&y.Utilities.dequeue(e,o.queue))}},f=function(){if(r){var e=a.progress();e!=o&&(0===a.duration()&&(0<e?t(r,u,c):d(r,c)),o=e)}};a.setVelocity=function(e,o,i){r&&a.removeVelocity(),r=s.get.elements(e),u=o||{},l="ScrollMagic."+p+"["+v+++"]",void 0!==(c=i||{}).queue&&(c.queue=l+"_queue");function t(){0!==a.duration()&&n(1,"ERROR: The Velocity animation plugin does not support scrollbound animations (scenes with duration) yet.")}return a.on("change.plugin_velocity",function(e){"duration"==e.what&&t()}),t(),n(3,"added animation"),f(),a},a.removeVelocity=function(e){return r&&(void 0!==c.queue&&y(r,"stop",c.queue),e&&d(r,{duration:0}),r.forEach(function(e){y.Utilities.removeData(e,l)}),r=u=c=l=void 0),a}})});